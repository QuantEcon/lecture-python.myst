

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>59. The Permanent Income Model &#8212; Intermediate Quantitative Economics with Python</title>
    <script src="https://unpkg.com/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6.3.1/dist/tippy-bundle.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
        <script>
            MathJax = {
            loader: {load: ['[tex]/boldsymbol', '[tex]/textmacros']},
            tex: {
                packages: {'[+]': ['boldsymbol', 'textmacros']},
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                processEscapes: true,
                macros: {
                    "argmax" : "arg\\,max",
                    "argmin" : "arg\\,min",
                    "col"    : "col",
                    "Span"   :  "span",
                    "epsilon": "\\varepsilon",
                    "EE": "\\mathbb{E}",
                    "PP": "\\mathbb{P}",
                    "RR": "\\mathbb{R}",
                    "NN": "\\mathbb{N}",
                    "ZZ": "\\mathbb{Z}",
                    "aA": "\\mathcal{A}",
                    "bB": "\\mathcal{B}",
                    "cC": "\\mathcal{C}",
                    "dD": "\\mathcal{D}",
                    "eE": "\\mathcal{E}",
                    "fF": "\\mathcal{F}",
                    "gG": "\\mathcal{G}",
                    "hH": "\\mathcal{H}",
                }
            },
            svg: {
                fontCache: 'global',
                scale: 0.92,
                displayAlign: "center",
            },
            };
        </script>
    
    
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/quantecon-book-theme.css?digest=bd0785fbb14d8d2bd4d9ae501d79ed8d3bc089ec" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>


    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/scripts/quantecon-book-theme.js?digest=d6d86bce9979111653c4c495e33499e1796e172a"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-J0SMYR4SG3"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-J0SMYR4SG3');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"argmax": "arg\\,max", "argmin": "arg\\,min"}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'perm_income';</script>
    <link rel="canonical" href="https://python.quantecon.org/perm_income.html" />
    <link rel="shortcut icon" href="_static/lectures-favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="60. Permanent Income II: LQ Techniques" href="perm_income_cons.html" />
    <link rel="prev" title="58. Eliminating Cross Products" href="cross_product_trick.html" />

<!-- Normal Meta Tags -->
<meta name="author" context="Thomas J. Sargent &amp; John Stachurski" />
<meta name="keywords" content="Python, QuantEcon, Quantitative Economics, Economics, Sloan, Alfred P. Sloan Foundation, Tom J. Sargent, John Stachurski" />
<meta name="description" content=This website presents a set of lectures on quantitative economic modeling, designed and written by Thomas J. Sargent and John Stachurski. />

<!-- Twitter tags -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@quantecon" />
<meta name="twitter:title" content="The Permanent Income Model"/>
<meta name="twitter:description" content="This website presents a set of lectures on quantitative economic modeling, designed and written by Thomas J. Sargent and John Stachurski.">
<meta name="twitter:creator" content="@quantecon">
<meta name="twitter:image" content="https://assets.quantecon.org/img/qe-twitter-logo.png">

<!-- Opengraph tags -->
<meta property="og:title" content="The Permanent Income Model" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://python.quantecon.org/perm_income.html" />
<meta property="og:image" content="https://assets.quantecon.org/img/qe-og-logo.png" />
<meta property="og:description" content="This website presents a set of lectures on quantitative economic modeling, designed and written by Thomas J. Sargent and John Stachurski." />
<meta property="og:site_name" content="Intermediate Quantitative Economics with Python" />
<meta name="theme-color" content="#ffffff" />

  </head>
<body>


    <span id="top"></span>

    <div class="qe-wrapper">

        <div class="qe-main">

            <div class="qe-page" id=perm_income>

                <div class="qe-page__toc">

                    <div class="inner">

                        
                        <div class="qe-page__toc-header">
                            On this page
                        </div>


                        <nav id="bd-toc-nav" class="qe-page__toc-nav">
                            <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">59.1. Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-savings-problem">59.2. The Savings Problem</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preliminaries">59.2.1. Preliminaries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-decision-problem">59.2.2. The Decision Problem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assumptions">59.2.3. Assumptions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#first-order-conditions">59.2.4. First-Order Conditions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-optimal-decision-rule">59.2.5. The Optimal Decision Rule</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#responding-to-the-state">59.2.5.1. Responding to the State</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-state-space-representation">59.2.5.2. A State-Space Representation</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-simple-example-with-iid-income">59.2.5.3. A Simple Example with IID Income</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#alternative-representations">59.3. Alternative Representations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#halls-representation">59.3.1. Hall’s Representation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cointegration">59.3.2. Cointegration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cross-sectional-implications">59.3.3. Cross-Sectional Implications</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#impulse-response-functions">59.3.4. Impulse Response Functions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#moving-average-representation">59.3.5. Moving Average Representation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#two-classic-examples">59.4. Two Classic Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-1">59.4.1. Example 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-2">59.4.2. Example 2</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#further-reading">59.5. Further Reading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#appendix-the-euler-equation">59.6. Appendix: The Euler Equation</a></li>
</ul>
                            <p class="logo">
                                
                                    
                                    <a href=https://quantecon.org><img src="_static/qe-logo-large.png" class="logo logo-img" alt="logo"></a>
                                    
                                    
                                
                            </p>

                            <p class="powered">Powered by <a href="https://jupyterbook.org/">Jupyter Book</a></p>

                        </nav>

                        <div class="qe-page__toc-footer">
                            
                            
                            <p><a href="#top"><strong>Back to top</strong></a></p>
                        </div>

                    </div>

                </div>

                <div class="qe-page__header">

                    <div class="qe-page__header-copy">

                        <p class="qe-page__header-heading"><a href="intro.html">Intermediate Quantitative Economics with Python</a></p>

                        <p class="qe-page__header-subheading">The Permanent Income Model</p>

                    </div>
                    <!-- length 2, since its a string and empty dict has length 2 - {} -->
                        <p class="qe-page__header-authors" font-size="18">
                            
                                
                                    <a href="http://www.tomsargent.com/" target="_blank"><span>Thomas J. Sargent</span></a>
                                
                            
                                
                                    and <a href="https://johnstachurski.net/" target="_blank"><span>John Stachurski</span></a>
                                
                            
                        </p>


                </div> <!-- .page__header -->



                
                <main class="qe-page__content" role="main">
                    
                    <div>
                        
  <section class="tex2jax_ignore mathjax_ignore" id="the-permanent-income-model">
<h1><a class="toc-backref" href="#id24"><span class="section-number">59. </span><span class="target" id="index-0"></span>The Permanent Income Model</a><a class="headerlink" href="#the-permanent-income-model" title="Permalink to this heading">#</a></h1>
<div class="contents topic" id="contents">
<span id="index-1"></span><p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#the-permanent-income-model" id="id24">The Permanent Income Model</a></p>
<ul>
<li><p><a class="reference internal" href="#overview" id="id25">Overview</a></p></li>
<li><p><a class="reference internal" href="#the-savings-problem" id="id26">The Savings Problem</a></p></li>
<li><p><a class="reference internal" href="#alternative-representations" id="id27">Alternative Representations</a></p></li>
<li><p><a class="reference internal" href="#two-classic-examples" id="id28">Two Classic Examples</a></p></li>
<li><p><a class="reference internal" href="#further-reading" id="id29">Further Reading</a></p></li>
<li><p><a class="reference internal" href="#appendix-the-euler-equation" id="id30">Appendix: The Euler Equation</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="overview">
<h2><a class="toc-backref" href="#id25"><span class="section-number">59.1. </span>Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading">#</a></h2>
<p>This lecture describes a rational expectations version of the famous permanent income model of Milton Friedman <span id="id1">[<a class="reference internal" href="zreferences.html#id164" title="M. Friedman. A Theory of the Consumption Function. Princeton University Press, 1956.">Friedman, 1956</a>]</span>.</p>
<p>Robert Hall cast Friedman’s model within a linear-quadratic setting <span id="id2">[<a class="reference internal" href="zreferences.html#id165" title="Robert E Hall. Stochastic Implications of the Life Cycle-Permanent Income Hypothesis: Theory and Evidence. Journal of Political Economy, 86(6):971–987, 1978.">Hall, 1978</a>]</span>.</p>
<p>Like Hall, we formulate an infinite-horizon linear-quadratic savings problem.</p>
<p>We use the model as a vehicle for illustrating</p>
<ul class="simple">
<li><p>alternative formulations of the <em>state</em> of a dynamic system</p></li>
<li><p>the idea of <em>cointegration</em></p></li>
<li><p>impulse response functions</p></li>
<li><p>the idea that changes in consumption are useful as predictors of movements in income</p></li>
</ul>
<p>Background readings on the linear-quadratic-Gaussian permanent income model are Hall’s  <span id="id3">[<a class="reference internal" href="zreferences.html#id165" title="Robert E Hall. Stochastic Implications of the Life Cycle-Permanent Income Hypothesis: Theory and Evidence. Journal of Political Economy, 86(6):971–987, 1978.">Hall, 1978</a>]</span>  and chapter 2 of  <span id="id4">[<a class="reference internal" href="zreferences.html#id186" title="L Ljungqvist and T J Sargent. Recursive Macroeconomic Theory. MIT Press, 4 edition, 2018.">Ljungqvist and Sargent, 2018</a>]</span>.</p>
<p>Let’s start with some imports</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1">#set default figure size</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">numba</span> <span class="kn">import</span> <span class="n">jit</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-savings-problem">
<h2><a class="toc-backref" href="#id26"><span class="section-number">59.2. </span>The Savings Problem</a><a class="headerlink" href="#the-savings-problem" title="Permalink to this heading">#</a></h2>
<p id="index-2">In this section, we state and solve the savings and consumption problem faced
by the consumer.</p>
<section id="preliminaries">
<h3><span class="section-number">59.2.1. </span>Preliminaries<a class="headerlink" href="#preliminaries" title="Permalink to this heading">#</a></h3>
<p>We use a class of stochastic processes called
<a class="reference external" href="https://en.wikipedia.org/wiki/Martingale_%28probability_theory%29">martingales</a>.</p>
<p>A discrete-time martingale is a stochastic process (i.e., a  sequence of random variables)
<span class="math notranslate nohighlight">\(\{X_t\}\)</span> with finite mean at each <span class="math notranslate nohighlight">\(t\)</span> and satisfying</p>
<div class="math notranslate nohighlight">
\[
\mathbb{E}_t [X_{t+1} ] = X_t, \qquad t = 0, 1, 2, \ldots
\]</div>
<p>Here <span class="math notranslate nohighlight">\(\mathbb{E}_t := \mathbb{E}[ \cdot \,|\, \mathcal{F}_t]\)</span> is a conditional mathematical  expectation conditional on the time <span class="math notranslate nohighlight">\(t\)</span>
<em>information set</em> <span class="math notranslate nohighlight">\(\mathcal{F}_t\)</span>.</p>
<p>The latter is just a collection of random variables that the modeler declares
to be visible at <span class="math notranslate nohighlight">\(t\)</span>.</p>
<ul class="simple">
<li><p>When not explicitly defined, it is usually understood that <span class="math notranslate nohighlight">\(\mathcal{F}_t = \{X_t, X_{t-1}, \ldots, X_0\}\)</span>.</p></li>
</ul>
<p>Martingales have the feature that the history of past outcomes provides no predictive power for changes between current and future outcomes.</p>
<p>For example, the current wealth of a gambler engaged in a “fair game” has this
property.</p>
<p>One common class of martingales is the family of <em>random walks</em>.</p>
<p>A <strong>random walk</strong> is  a stochastic process <span class="math notranslate nohighlight">\(\{X_t\}\)</span> that satisfies</p>
<div class="math notranslate nohighlight">
\[
X_{t+1} = X_t + w_{t+1}
\]</div>
<p>for some IID zero mean <em>innovation</em> sequence <span class="math notranslate nohighlight">\(\{w_t\}\)</span>.</p>
<p>Evidently, <span class="math notranslate nohighlight">\(X_t\)</span> can also be expressed as</p>
<div class="math notranslate nohighlight">
\[
X_t = \sum_{j=1}^t w_j + X_0
\]</div>
<p>Not every martingale arises as a random walk (see, for example, <a class="reference external" href="https://en.wikipedia.org/wiki/Wald%27s_martingale">Wald’s martingale</a>).</p>
</section>
<section id="the-decision-problem">
<h3><span class="section-number">59.2.2. </span>The Decision Problem<a class="headerlink" href="#the-decision-problem" title="Permalink to this heading">#</a></h3>
<p>A consumer has preferences over consumption streams that are ordered by the utility functional</p>
<div class="math notranslate nohighlight" id="equation-sprob1">
<span class="eqno">(59.1)<a class="headerlink" href="#equation-sprob1" title="Permalink to this equation">#</a></span>\[\mathbb{E}_0 \left[ \sum_{t=0}^\infty \beta^t u(c_t) \right]\]</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbb{E}_t\)</span> is the mathematical expectation conditioned on the consumer’s time <span class="math notranslate nohighlight">\(t\)</span> information</p></li>
<li><p><span class="math notranslate nohighlight">\(c_t\)</span> is time <span class="math notranslate nohighlight">\(t\)</span> consumption</p></li>
<li><p><span class="math notranslate nohighlight">\(u\)</span> is a strictly concave one-period utility function</p></li>
<li><p><span class="math notranslate nohighlight">\(\beta \in (0,1)\)</span> is a discount factor</p></li>
</ul>
<p>The consumer maximizes <a class="reference internal" href="#equation-sprob1">(59.1)</a> by choosing a consumption, borrowing plan <span class="math notranslate nohighlight">\(\{c_t, b_{t+1}\}_{t=0}^\infty\)</span> subject to the sequence of budget constraints</p>
<div class="math notranslate nohighlight" id="equation-sprob2">
<span class="eqno">(59.2)<a class="headerlink" href="#equation-sprob2" title="Permalink to this equation">#</a></span>\[c_t + b_t = \frac{1}{1 + r} b_{t+1} +  y_t   \quad t \geq 0\]</div>
<p>Here</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(y_t\)</span> is an exogenous endowment process.</p></li>
<li><p><span class="math notranslate nohighlight">\(r &gt; 0\)</span> is a time-invariant risk-free net interest rate.</p></li>
<li><p><span class="math notranslate nohighlight">\(b_t\)</span> is one-period risk-free debt maturing at <span class="math notranslate nohighlight">\(t\)</span>.</p></li>
</ul>
<p>The consumer also faces initial conditions <span class="math notranslate nohighlight">\(b_0\)</span> and <span class="math notranslate nohighlight">\(y_0\)</span>, which can be fixed or random.</p>
</section>
<section id="assumptions">
<h3><span class="section-number">59.2.3. </span>Assumptions<a class="headerlink" href="#assumptions" title="Permalink to this heading">#</a></h3>
<p>For the remainder of this lecture, we follow Friedman and Hall in assuming that <span class="math notranslate nohighlight">\((1 + r)^{-1} = \beta\)</span>.</p>
<p>Regarding the endowment process, we assume it has the <a class="reference internal" href="linear_models.html"><span class="doc">state-space representation</span></a></p>
<div class="math notranslate nohighlight" id="equation-sprob15ab">
<span class="eqno">(59.3)<a class="headerlink" href="#equation-sprob15ab" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{aligned}
    z_{t+1} &amp; = A z_t + C w_{t+1}
    \\
    y_t &amp; = U  z_t
\end{aligned}\end{split}\]</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\{w_t\}\)</span> is an IID vector process with <span class="math notranslate nohighlight">\(\mathbb{E} w_t = 0\)</span> and <span class="math notranslate nohighlight">\(\mathbb{E} w_t w_t' = I\)</span>.</p></li>
<li><p>The <a class="reference internal" href="linear_algebra.html#la-neumann-remarks"><span class="std std-ref">spectral radius</span></a> of <span class="math notranslate nohighlight">\(A\)</span> satisfies <span class="math notranslate nohighlight">\(\rho(A) &lt; \sqrt{1/\beta}\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(U\)</span> is a selection vector that pins down <span class="math notranslate nohighlight">\(y_t\)</span> as a particular linear combination of components of <span class="math notranslate nohighlight">\(z_t\)</span>.</p></li>
</ul>
<p>The restriction on <span class="math notranslate nohighlight">\(\rho(A)\)</span> prevents income from growing so fast that discounted geometric sums of some quadratic forms to be described below become infinite.</p>
<p>Regarding preferences, we assume the quadratic utility function</p>
<div class="math notranslate nohighlight">
\[
u(c_t) =  - (c_t - \gamma)^2
\]</div>
<p>where <span class="math notranslate nohighlight">\(\gamma\)</span> is a bliss level of consumption.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Along with this quadratic utility specification, we allow consumption to be negative.  However, by choosing parameters appropriately, we can make the probability that the model generates negative consumption paths over finite time horizons as low as desired.</p>
</div>
<p>Finally, we impose the <em>no Ponzi scheme</em> condition</p>
<div class="math notranslate nohighlight" id="equation-sprob3">
<span class="eqno">(59.4)<a class="headerlink" href="#equation-sprob3" title="Permalink to this equation">#</a></span>\[\mathbb{E}_0 \left[ \sum_{t=0}^\infty \beta^t b_t^2 \right] &lt; \infty\]</div>
<p>This condition rules out an always-borrow scheme that would allow the consumer to enjoy bliss consumption forever.</p>
</section>
<section id="first-order-conditions">
<h3><span class="section-number">59.2.4. </span>First-Order Conditions<a class="headerlink" href="#first-order-conditions" title="Permalink to this heading">#</a></h3>
<p>First-order conditions for maximizing <a class="reference internal" href="#equation-sprob1">(59.1)</a> subject to <a class="reference internal" href="#equation-sprob2">(59.2)</a> are</p>
<div class="math notranslate nohighlight" id="equation-sprob4">
<span class="eqno">(59.5)<a class="headerlink" href="#equation-sprob4" title="Permalink to this equation">#</a></span>\[\mathbb{E}_t [u'(c_{t+1})] = u'(c_t) , \qquad t = 0, 1, \ldots\]</div>
<p>These optimality conditions are also known as  <em>Euler equations</em>.</p>
<p>If you’re not sure where they come from, you can find a proof sketch in the
<a class="reference internal" href="#perm-income-appendix"><span class="std std-ref">appendix</span></a>.</p>
<p>With our quadratic preference specification, <a class="reference internal" href="#equation-sprob4">(59.5)</a> has the striking implication that consumption follows a martingale:</p>
<div class="math notranslate nohighlight" id="equation-sprob5">
<span class="eqno">(59.6)<a class="headerlink" href="#equation-sprob5" title="Permalink to this equation">#</a></span>\[\mathbb{E}_t [c_{t+1}] = c_t\]</div>
<p>(In fact, quadratic preferences are <em>necessary</em> for this conclusion <a class="footnote-reference brackets" href="#f2" id="id5">1</a>.)</p>
<p>One way to interpret <a class="reference internal" href="#equation-sprob5">(59.6)</a> is that consumption will change only when
“new information” about permanent income is revealed.</p>
<p>These ideas will be clarified below.</p>
</section>
<section id="the-optimal-decision-rule">
<span id="odr-pi"></span><h3><span class="section-number">59.2.5. </span>The Optimal Decision Rule<a class="headerlink" href="#the-optimal-decision-rule" title="Permalink to this heading">#</a></h3>
<p>Now let’s deduce the optimal decision rule <a class="footnote-reference brackets" href="#fod" id="id6">2</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>One way to solve the consumer’s problem is to apply <em>dynamic programming</em>
as in <a class="reference internal" href="lqcontrol.html"><span class="doc">this lecture</span></a>.  We do this later. But first we use
an alternative approach that is revealing and shows the work that dynamic
programming does for us behind the scenes.</p>
</div>
<p>In doing so, we need to combine</p>
<ol class="arabic simple">
<li><p>the optimality condition <a class="reference internal" href="#equation-sprob5">(59.6)</a></p></li>
<li><p>the period-by-period budget constraint <a class="reference internal" href="#equation-sprob2">(59.2)</a>, and</p></li>
<li><p>the boundary condition <a class="reference internal" href="#equation-sprob3">(59.4)</a></p></li>
</ol>
<p>To accomplish this, observe first that <a class="reference internal" href="#equation-sprob3">(59.4)</a> implies <span class="math notranslate nohighlight">\(\lim_{t \to \infty} \beta^{\frac{t}{2}} b_{t+1}= 0\)</span>.</p>
<p>Using this restriction on the debt path and solving <a class="reference internal" href="#equation-sprob2">(59.2)</a> forward yields</p>
<div class="math notranslate nohighlight" id="equation-sprob6">
<span class="eqno">(59.7)<a class="headerlink" href="#equation-sprob6" title="Permalink to this equation">#</a></span>\[b_t = \sum_{j=0}^\infty \beta^j (y_{t+j} - c_{t+j})\]</div>
<p>Take conditional expectations on both sides of <a class="reference internal" href="#equation-sprob6">(59.7)</a> and use the martingale property of consumption and the <em>law of iterated expectations</em> to deduce</p>
<div class="math notranslate nohighlight" id="equation-sprob7">
<span class="eqno">(59.8)<a class="headerlink" href="#equation-sprob7" title="Permalink to this equation">#</a></span>\[b_t = \sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}] - \frac{c_t}{1-\beta}\]</div>
<p>Expressed in terms of <span class="math notranslate nohighlight">\(c_t\)</span> we get</p>
<div class="math notranslate nohighlight" id="equation-sprob8">
<span class="eqno">(59.9)<a class="headerlink" href="#equation-sprob8" title="Permalink to this equation">#</a></span>\[c_t
 = (1-\beta) \left[ \sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}] - b_t\right]
 = {r \over 1+r} \left[ \sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}] - b_t\right]\]</div>
<p>where the last equality uses <span class="math notranslate nohighlight">\((1 + r) \beta = 1\)</span>.</p>
<p>These last two equations assert that consumption equals <em>economic income</em></p>
<ul class="simple">
<li><p><strong>financial wealth</strong> equals <span class="math notranslate nohighlight">\(-b_t\)</span></p></li>
<li><p><strong>non-financial wealth</strong> equals <span class="math notranslate nohighlight">\(\sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}]\)</span></p></li>
<li><p><strong>total wealth</strong> equals the sum of financial and non-financial wealth</p></li>
<li><p>a <strong>marginal propensity to consume out of total wealth</strong> equals the  interest factor <span class="math notranslate nohighlight">\(\frac{r}{1+r}\)</span></p></li>
<li><p><strong>economic income</strong> equals</p>
<ul>
<li><p>a constant marginal propensity to consume  times the sum of non-financial wealth and financial wealth</p></li>
<li><p>the amount the consumer can consume while leaving its wealth intact</p></li>
</ul>
</li>
</ul>
<section id="responding-to-the-state">
<h4><span class="section-number">59.2.5.1. </span>Responding to the State<a class="headerlink" href="#responding-to-the-state" title="Permalink to this heading">#</a></h4>
<p>The <em>state</em> vector confronting the consumer at <span class="math notranslate nohighlight">\(t\)</span> is <span class="math notranslate nohighlight">\(\begin{bmatrix} b_t &amp; z_t \end{bmatrix}\)</span>.</p>
<p>Here</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(z_t\)</span> is an <em>exogenous</em> component, unaffected by consumer behavior.</p></li>
<li><p><span class="math notranslate nohighlight">\(b_t\)</span> is an <em>endogenous</em> component (since it depends on the decision rule).</p></li>
</ul>
<p>Note that <span class="math notranslate nohighlight">\(z_t\)</span> contains all variables useful for forecasting the consumer’s future endowment.</p>
<p>It is plausible that current decisions <span class="math notranslate nohighlight">\(c_t\)</span> and <span class="math notranslate nohighlight">\(b_{t+1}\)</span> should
be expressible as functions of <span class="math notranslate nohighlight">\(z_t\)</span> and <span class="math notranslate nohighlight">\(b_t\)</span>.</p>
<p>This is indeed the case.</p>
<p>In fact, from <a class="reference internal" href="linear_models.html#lm-fgs"><span class="std std-ref">this discussion</span></a>, we see that</p>
<div class="math notranslate nohighlight">
\[
\sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}]
= \mathbb{E}_t \left[ \sum_{j=0}^\infty \beta^j y_{t+j} \right]
= U(I - \beta A)^{-1} z_t
\]</div>
<p>Combining this with <a class="reference internal" href="#equation-sprob8">(59.9)</a> gives</p>
<div class="math notranslate nohighlight" id="equation-pi-cpa">
<span class="eqno">(59.10)<a class="headerlink" href="#equation-pi-cpa" title="Permalink to this equation">#</a></span>\[c_t
 = {r \over 1+r}
     \left[
         U(I - \beta A)^{-1} z_t - b_t
     \right]\]</div>
<p>Using this equality to eliminate <span class="math notranslate nohighlight">\(c_t\)</span> in the budget constraint <a class="reference internal" href="#equation-sprob2">(59.2)</a> gives</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
    b_{t+1}
    &amp; = (1 + r) (b_t + c_t - y_t)
    \\
    &amp; = (1 + r) b_t + r [ U(I - \beta A)^{-1} z_t - b_t]  - (1+r) U z_t
    \\
    &amp; = b_t +  U [ r(I - \beta A)^{-1}  - (1+r) I ]  z_t
    \\
    &amp; = b_t +  U (I - \beta A)^{-1} (A - I)   z_t
\end{aligned}
\end{split}\]</div>
<p>To get from the second last to the last expression in this chain of equalities is not trivial.</p>
<p>A key is to use the fact that <span class="math notranslate nohighlight">\((1 + r) \beta = 1\)</span> and <span class="math notranslate nohighlight">\((I - \beta A)^{-1} = \sum_{j=0}^{\infty} \beta^j A^j\)</span>.</p>
<p>We’ve now successfully written <span class="math notranslate nohighlight">\(c_t\)</span> and <span class="math notranslate nohighlight">\(b_{t+1}\)</span> as functions of <span class="math notranslate nohighlight">\(b_t\)</span> and <span class="math notranslate nohighlight">\(z_t\)</span>.</p>
</section>
<section id="a-state-space-representation">
<h4><span class="section-number">59.2.5.2. </span>A State-Space Representation<a class="headerlink" href="#a-state-space-representation" title="Permalink to this heading">#</a></h4>
<p>We can summarize our dynamics in the form of a linear state-space system governing consumption, debt and income:</p>
<div class="math notranslate nohighlight" id="equation-pi-ssr">
<span class="eqno">(59.11)<a class="headerlink" href="#equation-pi-ssr" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{aligned}
  z_{t+1} &amp; = A z_t + C w_{t+1} \\
  b_{t+1} &amp; = b_t + U [ (I -\beta A)^{-1} (A - I) ] z_t \\
      y_t &amp; = U z_t \\
      c_t &amp; = (1-\beta) [ U(I-\beta A)^{-1} z_t - b_t ]
\end{aligned}\end{split}\]</div>
<p>To write this more succinctly, let</p>
<div class="math notranslate nohighlight">
\[\begin{split}
x_t =
\begin{bmatrix}
    z_t\\
    b_t
\end{bmatrix},
\quad
\tilde A =
\begin{bmatrix}
    A &amp; 0 \\
    U(I-\beta A)^{-1}(A-I) &amp; 1
 \end{bmatrix},
 \quad
\tilde C =
\begin{bmatrix}
    C\\
    0
\end{bmatrix}
\end{split}\]</div>
<p>and</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\tilde U =
\begin{bmatrix}
    U &amp; 0 \\
    (1-\beta) U (I - \beta A)^{-1} &amp; -(1-\beta)
\end{bmatrix}, \quad
\tilde y_t =
\begin{bmatrix}
      y_t\\
      c_t
  \end{bmatrix}
\end{split}\]</div>
<p>Then we can express equation  <a class="reference internal" href="#equation-pi-ssr">(59.11)</a> as</p>
<div class="math notranslate nohighlight" id="equation-pi-stsp">
<span class="eqno">(59.12)<a class="headerlink" href="#equation-pi-stsp" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{aligned}
  x_{t+1} &amp; = \tilde A x_t + \tilde C w_{t+1} \\
  \tilde y_t &amp; = \tilde U x_t
\end{aligned}\end{split}\]</div>
<p>We can use the following formulas from <a class="reference internal" href="linear_models.html"><span class="doc">linear state space models</span></a> to compute population mean <span class="math notranslate nohighlight">\(\mu_t = \mathbb{E}    x_t\)</span> and covariance <span class="math notranslate nohighlight">\(\Sigma_t := \mathbb{E} [ (x_t - \mu_t) (x_t - \mu_t)']\)</span></p>
<div class="math notranslate nohighlight" id="equation-lss-mut-perm-income">
<span class="eqno">(59.13)<a class="headerlink" href="#equation-lss-mut-perm-income" title="Permalink to this equation">#</a></span>\[\mu_{t+1} = \tilde A \mu_t
\quad \text{with} \quad \mu_0 \text{ given}\]</div>
<div class="math notranslate nohighlight" id="equation-eqsigmalaw">
<span class="eqno">(59.14)<a class="headerlink" href="#equation-eqsigmalaw" title="Permalink to this equation">#</a></span>\[\Sigma_{t+1}  = \tilde A  \Sigma_t \tilde A' + \tilde C \tilde C'
\quad \text{with} \quad \Sigma_0 \text{ given}\]</div>
<p>We can then compute the mean and covariance of <span class="math notranslate nohighlight">\(\tilde y_t\)</span> from</p>
<div class="math notranslate nohighlight" id="equation-eqymoments">
<span class="eqno">(59.15)<a class="headerlink" href="#equation-eqymoments" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{aligned}
\mu_{y,t} = \tilde U \mu_t \\
\Sigma_{y,t} = \tilde U \Sigma_t \tilde U'
\end{aligned}\end{split}\]</div>
</section>
<section id="a-simple-example-with-iid-income">
<h4><span class="section-number">59.2.5.3. </span>A Simple Example with IID Income<a class="headerlink" href="#a-simple-example-with-iid-income" title="Permalink to this heading">#</a></h4>
<p>To gain some preliminary intuition on the implications of <a class="reference internal" href="#equation-pi-ssr">(59.11)</a>, let’s look at a highly stylized example where income is just IID.</p>
<p>(Later examples will investigate more realistic income streams.)</p>
<p>In particular, let <span class="math notranslate nohighlight">\(\{w_t\}_{t = 1}^{\infty}\)</span> be IID and scalar standard normal, and let</p>
<div class="math notranslate nohighlight">
\[\begin{split}
z_t =
\begin{bmatrix}
    z^1_t \\
    1
\end{bmatrix},
\quad
A =
\begin{bmatrix}
    0 &amp; 0 \\
    0 &amp; 1
\end{bmatrix},
\quad
U =
\begin{bmatrix}
    1 &amp; \mu
\end{bmatrix},
\quad
C =
\begin{bmatrix}
    \sigma \\
    0
\end{bmatrix}
\end{split}\]</div>
<p>Finally, let <span class="math notranslate nohighlight">\(b_0 = z^1_0 = 0\)</span>.</p>
<p>Under these assumptions, we have <span class="math notranslate nohighlight">\(y_t = \mu + \sigma w_t \sim N(\mu, \sigma^2)\)</span>.</p>
<p>Further, if you work through the state space representation, you will see that</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
    b_t &amp; = - \sigma \sum_{j=1}^{t-1} w_j
    \\
    c_t &amp; = \mu + (1 - \beta) \sigma \sum_{j=1}^t w_j
\end{aligned}
\end{split}\]</div>
<p>Thus, income is IID and debt and consumption are both Gaussian random walks.</p>
<p>Defining assets as <span class="math notranslate nohighlight">\(-b_t\)</span>, we see that assets are just the cumulative sum of unanticipated incomes prior to the present date.</p>
<p>The next figure shows a typical realization with <span class="math notranslate nohighlight">\(r = 0.05\)</span>, <span class="math notranslate nohighlight">\(\mu = 1\)</span>, and <span class="math notranslate nohighlight">\(\sigma = 0.15\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">β</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span>
<span class="n">σ</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">μ</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">60</span>

<span class="nd">@jit</span>
<span class="k">def</span> <span class="nf">time_path</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># w_0, w_1, ..., w_T</span>
    <span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">b</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">b</span> <span class="o">=</span> <span class="o">-</span><span class="n">σ</span> <span class="o">*</span> <span class="n">b</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">μ</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">β</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">σ</span> <span class="o">*</span> <span class="n">w</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">w</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>

<span class="n">w</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">time_path</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">μ</span> <span class="o">+</span> <span class="n">σ</span> <span class="o">*</span> <span class="n">w</span><span class="p">,</span> <span class="s1">&#39;g-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Non-financial income&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;k-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Consumption&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">b</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Debt&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">ncol</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;expand&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.02</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">.102</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d7885f8d3d9d30be15e0697c6fc2bce2089c630897e250aba0659c3c7dc2657a.png" src="_images/d7885f8d3d9d30be15e0697c6fc2bce2089c630897e250aba0659c3c7dc2657a.png" />
</div>
</div>
<p>Observe that consumption is considerably smoother than income.</p>
<p>The figure below shows the consumption paths of 250 consumers with independent income streams</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">b_sum</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">250</span><span class="p">):</span>
    <span class="n">w</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">time_path</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>  <span class="c1"># Generate new time path</span>
    <span class="n">rcolor</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">((</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">rcolor</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Consumption&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/847006d245727d89bdb59f0efab3f3868dcf0ee5d7381b8faa0aacc90ab0e111.png" src="_images/847006d245727d89bdb59f0efab3f3868dcf0ee5d7381b8faa0aacc90ab0e111.png" />
</div>
</div>
</section>
</section>
</section>
<section id="alternative-representations">
<h2><a class="toc-backref" href="#id27"><span class="section-number">59.3. </span>Alternative Representations</a><a class="headerlink" href="#alternative-representations" title="Permalink to this heading">#</a></h2>
<p>In this section, we shed more light on the evolution of savings, debt and
consumption by representing their dynamics in several different ways.</p>
<section id="halls-representation">
<h3><span class="section-number">59.3.1. </span>Hall’s Representation<a class="headerlink" href="#halls-representation" title="Permalink to this heading">#</a></h3>
<p id="index-3">Hall <span id="id7">[<a class="reference internal" href="zreferences.html#id165" title="Robert E Hall. Stochastic Implications of the Life Cycle-Permanent Income Hypothesis: Theory and Evidence. Journal of Political Economy, 86(6):971–987, 1978.">Hall, 1978</a>]</span> suggested an insightful way to summarize the implications of LQ permanent income theory.</p>
<p>First, to represent the solution for <span class="math notranslate nohighlight">\(b_t\)</span>, shift <a class="reference internal" href="#equation-sprob8">(59.9)</a> forward one period and eliminate <span class="math notranslate nohighlight">\(b_{t+1}\)</span> by using <a class="reference internal" href="#equation-sprob2">(59.2)</a> to obtain</p>
<div class="math notranslate nohighlight">
\[
c_{t+1} = (1-\beta)\sum_{j=0}^\infty \beta^j  \mathbb{E}_{t+1} [y_{t+j+1}] -
(1-\beta) \left[ \beta^{-1} (c_t + b_t - y_t) \right]
\]</div>
<p>If we add and subtract <span class="math notranslate nohighlight">\(\beta^{-1} (1-\beta) \sum_{j=0}^\infty \beta^j \mathbb{E}_t y_{t+j}\)</span> from the right side of the preceding equation and rearrange, we obtain</p>
<div class="math notranslate nohighlight" id="equation-sprob11">
<span class="eqno">(59.16)<a class="headerlink" href="#equation-sprob11" title="Permalink to this equation">#</a></span>\[c_{t+1} - c_t = (1-\beta) \sum_{j=0}^\infty \beta^j
    \left\{ \mathbb{E}_{t+1} [y_{t+j+1}] - \mathbb{E}_t [y_{t+j+1}] \right\}\]</div>
<p>The right side is the time <span class="math notranslate nohighlight">\(t+1\)</span> <em>innovation to the expected present value</em> of the endowment process <span class="math notranslate nohighlight">\(\{y_t\}\)</span>.</p>
<p>We can represent the optimal decision rule for <span class="math notranslate nohighlight">\((c_t, b_{t+1})\)</span> in the form of <a class="reference internal" href="#equation-sprob11">(59.16)</a> and <a class="reference internal" href="#equation-sprob7">(59.8)</a>, which we repeat:</p>
<div class="math notranslate nohighlight" id="equation-sprob7aa">
<span class="eqno">(59.17)<a class="headerlink" href="#equation-sprob7aa" title="Permalink to this equation">#</a></span>\[b_t = \sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}] - {1 \over 1-\beta} c_t\]</div>
<p>Equation <a class="reference internal" href="#equation-sprob7aa">(59.17)</a> asserts that the consumer’s debt due at <span class="math notranslate nohighlight">\(t\)</span> equals the expected present value of its endowment minus the expected present value of its consumption stream.</p>
<p>A high debt thus indicates a large expected present value of surpluses <span class="math notranslate nohighlight">\(y_t - c_t\)</span>.</p>
<p>Recalling again our discussion on <a class="reference internal" href="linear_models.html#lm-fgs"><span class="std std-ref">forecasting geometric sums</span></a>, we have</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
    \mathbb{E}_t \sum_{j=0}^\infty \beta^j y_{t+j} &amp;= U (I-\beta A)^{-1} z_t \\
    \mathbb{E}_{t+1} \sum_{j=0}^\infty \beta^j y_{t+j+1} &amp; = U (I -\beta A)^{-1} z_{t+1} \\
    \mathbb{E}_t \sum_{j=0}^\infty \beta^j y_{t+j+1} &amp; = U (I - \beta A)^{-1} A z_t
\end{aligned}
\end{split}\]</div>
<p>Using  these formulas together with <a class="reference internal" href="#equation-sprob15ab">(59.3)</a> and substituting  into <a class="reference internal" href="#equation-sprob11">(59.16)</a> and <a class="reference internal" href="#equation-sprob7aa">(59.17)</a>  gives the following representation for the consumer’s optimum decision rule:</p>
<div class="math notranslate nohighlight" id="equation-sprob16abcd">
<span class="eqno">(59.18)<a class="headerlink" href="#equation-sprob16abcd" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{aligned}
    c_{t+1} &amp; = c_t + (1-\beta) U  (I-\beta A)^{-1} C w_{t+1} \\
    b_t &amp; = U (I-\beta A)^{-1} z_t - {1 \over 1-\beta} c_t \\
    y_t &amp; = U z_t \\
    z_{t+1} &amp; = A z_t + C w_{t+1}
\end{aligned}\end{split}\]</div>
<p>Representation <a class="reference internal" href="#equation-sprob16abcd">(59.18)</a> makes clear that</p>
<ul class="simple">
<li><p>The state can be taken as <span class="math notranslate nohighlight">\((c_t, z_t)\)</span>.</p>
<ul>
<li><p>The endogenous part is <span class="math notranslate nohighlight">\(c_t\)</span> and the exogenous part is <span class="math notranslate nohighlight">\(z_t\)</span>.</p></li>
<li><p>Debt <span class="math notranslate nohighlight">\(b_t\)</span> has disappeared as a component of the state because it is encoded in <span class="math notranslate nohighlight">\(c_t\)</span>.</p></li>
</ul>
</li>
<li><p>Consumption is a random walk with innovation <span class="math notranslate nohighlight">\((1-\beta) U  (I-\beta A)^{-1} C w_{t+1}\)</span>.</p>
<ul>
<li><p>This is a more explicit representation of the martingale result in <a class="reference internal" href="#equation-sprob5">(59.6)</a>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="cointegration">
<span id="coint-pi"></span><h3><span class="section-number">59.3.2. </span>Cointegration<a class="headerlink" href="#cointegration" title="Permalink to this heading">#</a></h3>
<p>Representation <a class="reference internal" href="#equation-sprob16abcd">(59.18)</a> reveals that the joint process <span class="math notranslate nohighlight">\(\{c_t, b_t\}\)</span> possesses the property that Engle and Granger <span id="id8">[<a class="reference internal" href="zreferences.html#id162" title="Robert F Engle and Clive W J Granger. Co-integration and Error Correction: Representation, Estimation, and Testing. Econometrica, 55(2):251–276, 1987.">Engle and Granger, 1987</a>]</span> called <a class="reference external" href="https://en.wikipedia.org/wiki/Cointegration">cointegration</a>.</p>
<p>Cointegration is a tool that allows us to apply powerful results from the theory of stationary stochastic processes to (certain transformations of) nonstationary models.</p>
<p>To apply cointegration in the present context, suppose that <span class="math notranslate nohighlight">\(z_t\)</span> is asymptotically stationary <a class="footnote-reference brackets" href="#fn-as" id="id9">3</a>.</p>
<p>Despite this, both <span class="math notranslate nohighlight">\(c_t\)</span> and <span class="math notranslate nohighlight">\(b_t\)</span> will be non-stationary because they have unit roots (see <a class="reference internal" href="#equation-pi-ssr">(59.11)</a> for <span class="math notranslate nohighlight">\(b_t\)</span>).</p>
<p>Nevertheless, there is a linear combination of <span class="math notranslate nohighlight">\(c_t, b_t\)</span> that <em>is</em> asymptotically stationary.</p>
<p>In particular, from the second equality in <a class="reference internal" href="#equation-sprob16abcd">(59.18)</a> we have</p>
<div class="math notranslate nohighlight" id="equation-pi-spr">
<span class="eqno">(59.19)<a class="headerlink" href="#equation-pi-spr" title="Permalink to this equation">#</a></span>\[(1-\beta) b_t + c_t = (1 - \beta) U (I-\beta A)^{-1} z_t\]</div>
<p>Hence the linear combination <span class="math notranslate nohighlight">\((1-\beta) b_t + c_t\)</span> is asymptotically stationary.</p>
<p>Accordingly, Granger and Engle would call <span class="math notranslate nohighlight">\(\begin{bmatrix} (1-\beta) &amp; 1 \end{bmatrix}\)</span> a <strong>cointegrating vector</strong> for the state.</p>
<p>When applied to the nonstationary vector process <span class="math notranslate nohighlight">\(\begin{bmatrix} b_t  &amp; c_t \end{bmatrix}'\)</span>, it yields a process that is asymptotically stationary.</p>
<p>Equation <a class="reference internal" href="#equation-pi-spr">(59.19)</a> can be rearranged to take the form</p>
<div class="math notranslate nohighlight" id="equation-sprob77">
<span class="eqno">(59.20)<a class="headerlink" href="#equation-sprob77" title="Permalink to this equation">#</a></span>\[(1-\beta) b_t + c_t = (1-\beta) \mathbb{E}_t \sum_{j=0}^\infty \beta^j y_{t+j}\]</div>
<p>Equation <a class="reference internal" href="#equation-sprob77">(59.20)</a>  asserts that the <em>cointegrating residual</em>  on the left side equals the conditional expectation of the geometric sum of future incomes on the right <a class="footnote-reference brackets" href="#f8" id="id10">4</a>.</p>
</section>
<section id="cross-sectional-implications">
<h3><span class="section-number">59.3.3. </span>Cross-Sectional Implications<a class="headerlink" href="#cross-sectional-implications" title="Permalink to this heading">#</a></h3>
<p>Consider again <a class="reference internal" href="#equation-sprob16abcd">(59.18)</a>, this time in light of our discussion of
distribution dynamics in the <a class="reference internal" href="linear_models.html"><span class="doc">lecture on linear systems</span></a>.</p>
<p>The dynamics of <span class="math notranslate nohighlight">\(c_t\)</span> are given by</p>
<div class="math notranslate nohighlight" id="equation-pi-crw">
<span class="eqno">(59.21)<a class="headerlink" href="#equation-pi-crw" title="Permalink to this equation">#</a></span>\[c_{t+1} = c_t + (1-\beta) U  (I-\beta A)^{-1} C w_{t+1}\]</div>
<p>or</p>
<div class="math notranslate nohighlight">
\[
c_t = c_0 + \sum_{j=1}^t \hat w_j
\quad \text{for} \quad
\hat w_{t+1} := (1-\beta) U  (I-\beta A)^{-1} C w_{t+1}
\]</div>
<p>The unit root affecting <span class="math notranslate nohighlight">\(c_t\)</span> causes the time <span class="math notranslate nohighlight">\(t\)</span> variance of <span class="math notranslate nohighlight">\(c_t\)</span> to grow linearly with <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>In particular, since <span class="math notranslate nohighlight">\(\{ \hat w_t \}\)</span> is IID, we have</p>
<div class="math notranslate nohighlight" id="equation-pi-vt">
<span class="eqno">(59.22)<a class="headerlink" href="#equation-pi-vt" title="Permalink to this equation">#</a></span>\[\mathrm{Var}[c_t] = \mathrm{Var}[c_0] + t \, \hat \sigma^2\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[
\hat \sigma^2 := (1-\beta)^2 U  (I-\beta A)^{-1} CC' (I-\beta A')^{-1} U'
\]</div>
<p>When <span class="math notranslate nohighlight">\(\hat \sigma &gt; 0\)</span>, <span class="math notranslate nohighlight">\(\{c_t\}\)</span> has no asymptotic distribution.</p>
<p>Let’s consider what this means for a cross-section of ex-ante identical consumers born at time <span class="math notranslate nohighlight">\(0\)</span>.</p>
<p>Let the distribution of <span class="math notranslate nohighlight">\(c_0\)</span> represent the cross-section of initial consumption values.</p>
<p>Equation <a class="reference internal" href="#equation-pi-vt">(59.22)</a> tells us that the variance of <span class="math notranslate nohighlight">\(c_t\)</span> increases over time at a rate proportional to <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>A number of different studies have investigated this prediction and found some support for it
(see, e.g., <span id="id11">[<a class="reference internal" href="zreferences.html#id158" title="Angus Deaton and Christina Paxson. Intertemporal Choice and Inequality. Journal of Political Economy, 102(3):437–467, 1994.">Deaton and Paxson, 1994</a>]</span>, <span id="id12">[<a class="reference internal" href="zreferences.html#id223" title="Kjetil Storesletten, Christopher I Telmer, and Amir Yaron. Consumption and risk sharing over the life cycle. Journal of Monetary Economics, 51(3):609–633, 2004.">Storesletten <em>et al.</em>, 2004</a>]</span>).</p>
</section>
<section id="impulse-response-functions">
<h3><span class="section-number">59.3.4. </span>Impulse Response Functions<a class="headerlink" href="#impulse-response-functions" title="Permalink to this heading">#</a></h3>
<p>Impulse response functions measure responses  to various  impulses (i.e., temporary shocks).</p>
<p>The impulse response function of <span class="math notranslate nohighlight">\(\{c_t\}\)</span> to the innovation <span class="math notranslate nohighlight">\(\{w_t\}\)</span> is a box.</p>
<p>In particular, the response of <span class="math notranslate nohighlight">\(c_{t+j}\)</span> to a unit increase in the innovation <span class="math notranslate nohighlight">\(w_{t+1}\)</span> is <span class="math notranslate nohighlight">\((1-\beta) U (I -\beta A)^{-1} C\)</span> for all <span class="math notranslate nohighlight">\(j \geq 1\)</span>.</p>
</section>
<section id="moving-average-representation">
<h3><span class="section-number">59.3.5. </span>Moving Average Representation<a class="headerlink" href="#moving-average-representation" title="Permalink to this heading">#</a></h3>
<p>It’s useful to express the innovation to the expected present value of the endowment process in terms of a moving average representation for income <span class="math notranslate nohighlight">\(y_t\)</span>.</p>
<p>The endowment process defined by <a class="reference internal" href="#equation-sprob15ab">(59.3)</a> has the moving average representation</p>
<div class="math notranslate nohighlight" id="equation-sprob12">
<span class="eqno">(59.23)<a class="headerlink" href="#equation-sprob12" title="Permalink to this equation">#</a></span>\[y_{t+1} = d(L) w_{t+1}\]</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(d(L) = \sum_{j=0}^\infty d_j L^j\)</span> for some sequence <span class="math notranslate nohighlight">\(d_j\)</span>, where <span class="math notranslate nohighlight">\(L\)</span> is the lag operator <a class="footnote-reference brackets" href="#f4" id="id13">5</a></p></li>
<li><p>at time <span class="math notranslate nohighlight">\(t\)</span>, the consumer has an information set <a class="footnote-reference brackets" href="#f5" id="id14">6</a> <span class="math notranslate nohighlight">\(w^t = [w_t, w_{t-1}, \ldots ]\)</span></p></li>
</ul>
<p>Notice that</p>
<div class="math notranslate nohighlight">
\[
y_{t+j} - \mathbb{E}_t [y_{t+j}] = d_0 w_{t+j} + d_1 w_{t+j-1} + \cdots + d_{j-1} w_{t+1}
\]</div>
<p>It follows that</p>
<div class="math notranslate nohighlight" id="equation-sprob120">
<span class="eqno">(59.24)<a class="headerlink" href="#equation-sprob120" title="Permalink to this equation">#</a></span>\[\mathbb{E}_{t+1} [y_{t+j}] - \mathbb{E}_t [y_{t+j}] = d_{j-1} w_{t+1}\]</div>
<p>Using <a class="reference internal" href="#equation-sprob120">(59.24)</a> in <a class="reference internal" href="#equation-sprob11">(59.16)</a> gives</p>
<div class="math notranslate nohighlight" id="equation-sprob13">
<span class="eqno">(59.25)<a class="headerlink" href="#equation-sprob13" title="Permalink to this equation">#</a></span>\[c_{t+1} - c_t = (1-\beta) d(\beta) w_{t+1}\]</div>
<p>The object <span class="math notranslate nohighlight">\(d(\beta)\)</span> is the <strong>present value of the moving average coefficients</strong> in the representation for the endowment process <span class="math notranslate nohighlight">\(y_t\)</span>.</p>
</section>
</section>
<section id="two-classic-examples">
<span id="sub-classic-consumption"></span><h2><a class="toc-backref" href="#id28"><span class="section-number">59.4. </span>Two Classic Examples</a><a class="headerlink" href="#two-classic-examples" title="Permalink to this heading">#</a></h2>
<p>We illustrate some of the preceding ideas with two examples.</p>
<p>In both examples, the endowment follows the process <span class="math notranslate nohighlight">\(y_t = z_{1t} + z_{2t}\)</span> where</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix}
  z_{1 t+1} \\
  z_{2t+1}
\end{bmatrix} =
\begin{bmatrix}
  1 &amp; 0 \\
  0 &amp; 0
\end{bmatrix}
\begin{bmatrix}
  z_{1t} \\
  z_{2t}
\end{bmatrix} + \begin{bmatrix}
      \sigma_1 &amp; 0 \\
      0 &amp; \sigma_2
  \end{bmatrix}
  \begin{bmatrix}
      w_{1t+1} \\
      w_{2t+1}
  \end{bmatrix}
\end{split}\]</div>
<p>Here</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(w_{t+1}\)</span> is an IID <span class="math notranslate nohighlight">\(2 \times 1\)</span> process distributed as <span class="math notranslate nohighlight">\(N(0,I)\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(z_{1t}\)</span> is a permanent component of <span class="math notranslate nohighlight">\(y_t\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(z_{2t}\)</span> is a purely transitory component of <span class="math notranslate nohighlight">\(y_t\)</span>.</p></li>
</ul>
<section id="example-1">
<h3><span class="section-number">59.4.1. </span>Example 1<a class="headerlink" href="#example-1" title="Permalink to this heading">#</a></h3>
<p>Assume as before that the consumer observes the state <span class="math notranslate nohighlight">\(z_t\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>In view of <a class="reference internal" href="#equation-sprob16abcd">(59.18)</a> we have</p>
<div class="math notranslate nohighlight" id="equation-consexample1">
<span class="eqno">(59.26)<a class="headerlink" href="#equation-consexample1" title="Permalink to this equation">#</a></span>\[c_{t+1} - c_t = \sigma_1 w_{1t+1} + (1-\beta) \sigma_2 w_{2t+1}\]</div>
<p>Formula <a class="reference internal" href="#equation-consexample1">(59.26)</a> shows how an increment <span class="math notranslate nohighlight">\(\sigma_1 w_{1t+1}\)</span> to the permanent component of income <span class="math notranslate nohighlight">\(z_{1t+1}\)</span> leads to</p>
<ul class="simple">
<li><p>a permanent one-for-one increase in consumption and</p></li>
<li><p>no increase in savings <span class="math notranslate nohighlight">\(-b_{t+1}\)</span></p></li>
</ul>
<p>But the purely transitory component of income <span class="math notranslate nohighlight">\(\sigma_2 w_{2t+1}\)</span> leads to a permanent increment in consumption by a fraction <span class="math notranslate nohighlight">\(1-\beta\)</span> of transitory income.</p>
<p>The remaining fraction <span class="math notranslate nohighlight">\(\beta\)</span> is saved, leading to a permanent increment in <span class="math notranslate nohighlight">\(-b_{t+1}\)</span>.</p>
<p>Application of the formula for debt in <a class="reference internal" href="#equation-pi-ssr">(59.11)</a> to this example shows that</p>
<div class="math notranslate nohighlight" id="equation-consexample1a">
<span class="eqno">(59.27)<a class="headerlink" href="#equation-consexample1a" title="Permalink to this equation">#</a></span>\[b_{t+1} - b_t = - z_{2t} = - \sigma_2 w_{2t}\]</div>
<p>This confirms that none of <span class="math notranslate nohighlight">\(\sigma_1 w_{1t}\)</span> is saved, while all of <span class="math notranslate nohighlight">\(\sigma_2 w_{2t}\)</span> is saved.</p>
<p>The next figure displays impulse-response functions that  illustrates these very different reactions to transitory and
permanent income shocks.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">β</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span>
<span class="n">S</span> <span class="o">=</span> <span class="mi">5</span>   <span class="c1"># Impulse date</span>
<span class="n">σ1</span> <span class="o">=</span> <span class="n">σ2</span> <span class="o">=</span> <span class="mf">0.15</span>

<span class="nd">@jit</span>
<span class="k">def</span> <span class="nf">time_path</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="s2">&quot;Time path of consumption and debt given shock sequence&quot;</span>
    <span class="n">w1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">w2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">permanent</span><span class="p">:</span>
        <span class="n">w1</span><span class="p">[</span><span class="n">S</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">w2</span><span class="p">[</span><span class="n">S</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">T</span><span class="p">):</span>
        <span class="n">b</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">-</span> <span class="n">σ2</span> <span class="o">*</span> <span class="n">w2</span><span class="p">[</span><span class="n">t</span><span class="p">]</span>
        <span class="n">c</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">σ1</span> <span class="o">*</span> <span class="n">w1</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">β</span><span class="p">)</span> <span class="o">*</span> <span class="n">σ2</span> <span class="o">*</span> <span class="n">w2</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">titles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;permanent&#39;</span><span class="p">,</span> <span class="s1">&#39;transitory&#39;</span><span class="p">]</span>

<span class="n">L</span> <span class="o">=</span> <span class="mf">0.175</span>

<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">truefalse</span><span class="p">,</span> <span class="n">title</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span> <span class="n">titles</span><span class="p">):</span>
    <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">time_path</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="n">truefalse</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Impulse reponse: </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s1"> income shock&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;g-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;consumption&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;debt&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="n">S</span><span class="p">,</span> <span class="n">S</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="n">L</span><span class="p">,</span> <span class="n">L</span><span class="p">),</span> <span class="s1">&#39;k-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="n">L</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4381d045c3efc27c41f9d914e2e97ba32546b3539896b199c4e681aaa93e0c46.png" src="_images/4381d045c3efc27c41f9d914e2e97ba32546b3539896b199c4e681aaa93e0c46.png" />
</div>
</div>
<p>Notice how the permanent income shock provokes no change in  assets <span class="math notranslate nohighlight">\(-b_{t+1}\)</span> and an immediate  permanent change in consumption equal to the permanent increment in non-financial income.</p>
<p>In contrast, notice how most of a transitory income shock is saved and only a small amount is saved.</p>
<p>The box-like impulse responses of consumption to both types of shock reflect the random walk property of the optimal consumption decision.</p>
</section>
<section id="example-2">
<h3><span class="section-number">59.4.2. </span>Example 2<a class="headerlink" href="#example-2" title="Permalink to this heading">#</a></h3>
<p>Assume now that at time <span class="math notranslate nohighlight">\(t\)</span> the consumer observes <span class="math notranslate nohighlight">\(y_t\)</span>, and its history up to <span class="math notranslate nohighlight">\(t\)</span>, but not <span class="math notranslate nohighlight">\(z_t\)</span>.</p>
<p>Under this assumption, it is appropriate to use an <em>innovation representation</em> to form <span class="math notranslate nohighlight">\(A, C, U\)</span> in <a class="reference internal" href="#equation-sprob16abcd">(59.18)</a>.</p>
<p>The discussion in sections 2.9.1 and 2.11.3 of <span id="id15">[<a class="reference internal" href="zreferences.html#id186" title="L Ljungqvist and T J Sargent. Recursive Macroeconomic Theory. MIT Press, 4 edition, 2018.">Ljungqvist and Sargent, 2018</a>]</span> shows that the pertinent state space representation for <span class="math notranslate nohighlight">\(y_t\)</span> is</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
  \begin{bmatrix}
    y_{t+1} \\
    a_{t+1}
  \end{bmatrix}
    &amp; =
    \begin{bmatrix}
        1 &amp; -(1 - K) \\
        0 &amp; 0
    \end{bmatrix}
    \begin{bmatrix}
        y_t \\
        a_t
    \end{bmatrix} +
    \begin{bmatrix}
        1 \\
        1
    \end{bmatrix}
    a_{t+1}
    \\
    y_t
    &amp; =
    \begin{bmatrix}
        1 &amp; 0
    \end{bmatrix}
    \begin{bmatrix}
        y_t \\
        a_t
    \end{bmatrix}
\end{aligned}
\end{split}\]</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(K :=\)</span> the stationary Kalman gain</p></li>
<li><p><span class="math notranslate nohighlight">\(a_t := y_t - E [ y_t \,|\, y_{t-1}, \ldots, y_0]\)</span></p></li>
</ul>
<p>In the same discussion in <span id="id16">[<a class="reference internal" href="zreferences.html#id186" title="L Ljungqvist and T J Sargent. Recursive Macroeconomic Theory. MIT Press, 4 edition, 2018.">Ljungqvist and Sargent, 2018</a>]</span> it is shown that <span class="math notranslate nohighlight">\(K \in [0,1]\)</span> and that <span class="math notranslate nohighlight">\(K\)</span> increases as <span class="math notranslate nohighlight">\(\sigma_1/\sigma_2\)</span> does.</p>
<p>In other words, <span class="math notranslate nohighlight">\(K\)</span> increases as the ratio of the standard deviation of the permanent shock to that of the transitory shock increases.</p>
<p>Please see  <a class="reference internal" href="kalman.html"><span class="doc">first look at the Kalman filter</span></a>.</p>
<p>Applying formulas <a class="reference internal" href="#equation-sprob16abcd">(59.18)</a> implies</p>
<div class="math notranslate nohighlight" id="equation-consexample2">
<span class="eqno">(59.28)<a class="headerlink" href="#equation-consexample2" title="Permalink to this equation">#</a></span>\[c_{t+1} - c_t = [1-\beta(1-K) ] a_{t+1}\]</div>
<p>where the endowment process can now be represented in terms of the univariate innovation to <span class="math notranslate nohighlight">\(y_t\)</span> as</p>
<div class="math notranslate nohighlight" id="equation-incomemaar">
<span class="eqno">(59.29)<a class="headerlink" href="#equation-incomemaar" title="Permalink to this equation">#</a></span>\[y_{t+1} - y_t = a_{t+1} - (1-K) a_t\]</div>
<p>Equation <a class="reference internal" href="#equation-incomemaar">(59.29)</a> indicates that the consumer regards</p>
<ul class="simple">
<li><p>fraction <span class="math notranslate nohighlight">\(K\)</span> of an innovation <span class="math notranslate nohighlight">\(a_{t+1}\)</span> to <span class="math notranslate nohighlight">\(y_{t+1}\)</span> as <em>permanent</em></p></li>
<li><p>fraction <span class="math notranslate nohighlight">\(1-K\)</span> as purely transitory</p></li>
</ul>
<p>The consumer permanently increases his consumption by the full amount of his estimate of the permanent part of <span class="math notranslate nohighlight">\(a_{t+1}\)</span>, but by only <span class="math notranslate nohighlight">\((1-\beta)\)</span> times his estimate of the purely transitory part of <span class="math notranslate nohighlight">\(a_{t+1}\)</span>.</p>
<p>Therefore, in total, he permanently increments his consumption by a fraction <span class="math notranslate nohighlight">\(K + (1-\beta) (1-K) = 1 - \beta (1-K)\)</span> of <span class="math notranslate nohighlight">\(a_{t+1}\)</span>.</p>
<p>He saves the remaining fraction <span class="math notranslate nohighlight">\(\beta (1-K)\)</span>.</p>
<p>According to equation <a class="reference internal" href="#equation-incomemaar">(59.29)</a>, the first difference of income is a first-order moving average.</p>
<p>Equation  <a class="reference internal" href="#equation-consexample2">(59.28)</a> asserts that the first difference of consumption is IID.</p>
<p>Application of formula to this example shows that</p>
<div class="math notranslate nohighlight" id="equation-consexample1b">
<span class="eqno">(59.30)<a class="headerlink" href="#equation-consexample1b" title="Permalink to this equation">#</a></span>\[b_{t+1} - b_t = (K-1) a_t\]</div>
<p>This indicates how the fraction <span class="math notranslate nohighlight">\(K\)</span> of the innovation to <span class="math notranslate nohighlight">\(y_t\)</span> that is regarded as permanent influences the fraction of the innovation that is saved.</p>
</section>
</section>
<section id="further-reading">
<h2><a class="toc-backref" href="#id29"><span class="section-number">59.5. </span>Further Reading</a><a class="headerlink" href="#further-reading" title="Permalink to this heading">#</a></h2>
<p>The model described above significantly changed how economists think about
consumption.</p>
<p>While Hall’s model does a remarkably good job as a first approximation to consumption data, it’s widely believed that it doesn’t capture important aspects of some consumption/savings data.</p>
<p>For example, liquidity constraints and precautionary savings appear to be present sometimes.</p>
<p>Further discussion can be found in, e.g., <span id="id17">[<a class="reference internal" href="zreferences.html#id166" title="Robert E Hall and Frederic S Mishkin. The Sensitivity of Consumption to Transitory Income: Estimates from Panel Data on Households. National Bureau of Economic Research Working Paper Series, 1982.">Hall and Mishkin, 1982</a>]</span>, <span id="id18">[<a class="reference internal" href="zreferences.html#id201" title="Jonathan A Parker. The Reaction of Household Consumption to Predictable Changes in Social Security Taxes. American Economic Review, 89(4):959–973, 1999.">Parker, 1999</a>]</span>, <span id="id19">[<a class="reference internal" href="zreferences.html#id157" title="Angus Deaton. Saving and Liquidity Constraints. Econometrica, 59(5):1221–1248, 1991.">Deaton, 1991</a>]</span>, <span id="id20">[<a class="reference internal" href="zreferences.html#id153" title="Christopher D Carroll. A Theory of the Consumption Function, with and without Liquidity Constraints. Journal of Economic Perspectives, 15(3):23–45, 2001.">Carroll, 2001</a>]</span>.</p>
</section>
<section id="appendix-the-euler-equation">
<span id="perm-income-appendix"></span><h2><a class="toc-backref" href="#id30"><span class="section-number">59.6. </span>Appendix: The Euler Equation</a><a class="headerlink" href="#appendix-the-euler-equation" title="Permalink to this heading">#</a></h2>
<p>Where does the first-order condition <a class="reference internal" href="#equation-sprob4">(59.5)</a> come from?</p>
<p>Here we’ll give a proof for the two-period case, which is representative of
the general argument.</p>
<p>The finite horizon equivalent of the no-Ponzi condition is that the agent
cannot end her life in debt, so <span class="math notranslate nohighlight">\(b_2 = 0\)</span>.</p>
<p>From the budget constraint <a class="reference internal" href="#equation-sprob2">(59.2)</a> we then have</p>
<div class="math notranslate nohighlight">
\[
c_0 = \frac{b_1}{1 + r} - b_0 + y_0
\quad \text{and} \quad
c_1 = y_1 - b_1
\]</div>
<p>Here <span class="math notranslate nohighlight">\(b_0\)</span> and <span class="math notranslate nohighlight">\(y_0\)</span> are given constants.</p>
<p>Substituting these constraints into our two-period objective <span class="math notranslate nohighlight">\(u(c_0) + \beta \mathbb{E}_0 [u(c_1)]\)</span> gives</p>
<div class="math notranslate nohighlight">
\[
\max_{b_1}
 \left\{
     u \left(\frac{b_1}{R} - b_0 + y_0 \right) +
     \beta \, \mathbb{E}_0 [ u (y_1 - b_1) ]
\right\}
\]</div>
<p>You will be able to verify that the first-order condition is</p>
<div class="math notranslate nohighlight">
\[
u'(c_0) = \beta R  \,\mathbb{E}_0 [u'(c_1)]
\]</div>
<p>Using <span class="math notranslate nohighlight">\(\beta R = 1\)</span> gives <a class="reference internal" href="#equation-sprob4">(59.5)</a> in the two-period case.</p>
<p>The proof for the general case is similar.</p>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="f2"><span class="brackets"><a class="fn-backref" href="#id5">1</a></span></dt>
<dd><p>A linear marginal utility is essential for deriving <a class="reference internal" href="#equation-sprob5">(59.6)</a> from <a class="reference internal" href="#equation-sprob4">(59.5)</a>.  Suppose instead that we had imposed the following more standard assumptions on the utility function: <span class="math notranslate nohighlight">\(u'(c) &gt;0, u''(c)&lt;0, u'''(c) &gt; 0\)</span> and required that <span class="math notranslate nohighlight">\(c \geq 0\)</span>.  The Euler equation remains <a class="reference internal" href="#equation-sprob4">(59.5)</a>. But the fact that <span class="math notranslate nohighlight">\(u''' &lt;0\)</span> implies via Jensen’s inequality that <span class="math notranslate nohighlight">\(\mathbb{E}_t [u'(c_{t+1})] &gt;  u'(\mathbb{E}_t [c_{t+1}])\)</span>.  This inequality together with <a class="reference internal" href="#equation-sprob4">(59.5)</a> implies that <span class="math notranslate nohighlight">\(\mathbb{E}_t [c_{t+1}] &gt; c_t\)</span> (consumption is said to be a ‘submartingale’), so that consumption stochastically diverges to <span class="math notranslate nohighlight">\(+\infty\)</span>.  The consumer’s savings also diverge to <span class="math notranslate nohighlight">\(+\infty\)</span>.</p>
</dd>
<dt class="label" id="fod"><span class="brackets"><a class="fn-backref" href="#id6">2</a></span></dt>
<dd><p>An optimal decision rule is a map from the current state into current actions—in this case, consumption.</p>
</dd>
<dt class="label" id="fn-as"><span class="brackets"><a class="fn-backref" href="#id9">3</a></span></dt>
<dd><p>This would be the case if, for example, the <a class="reference internal" href="linear_algebra.html#la-neumann-remarks"><span class="std std-ref">spectral radius</span></a> of <span class="math notranslate nohighlight">\(A\)</span> is strictly less than one.</p>
</dd>
<dt class="label" id="f8"><span class="brackets"><a class="fn-backref" href="#id10">4</a></span></dt>
<dd><p>See <span id="id21">[<a class="reference internal" href="zreferences.html#id106" title="Robert J. Shiller John Y. Campbell. The Dividend-Price Ratio and Expectations of Future Dividends and Discount Factors. Review of Financial Studies, 1(3):195-228, 1988.">John Y. Campbell, 1988</a>]</span>, <span id="id22">[<a class="reference internal" href="zreferences.html#id105" title="Martin Lettau and Sydney Ludvigson. Consumption, Aggregate Wealth, and Expected Stock Returns. Journal of Finance, 56(3):815-849, 06 2001.">Lettau and Ludvigson, 2001</a>]</span>, <span id="id23">[<a class="reference internal" href="zreferences.html#id104" title="Martin Lettau and Sydney C. Ludvigson. Understanding Trend and Cycle in Asset Values: Reevaluating the Wealth Effect on Consumption. American Economic Review, 94(1):276-299, March 2004.">Lettau and Ludvigson, 2004</a>]</span> for interesting applications of related ideas.</p>
</dd>
<dt class="label" id="f4"><span class="brackets"><a class="fn-backref" href="#id13">5</a></span></dt>
<dd><p>Representation <a class="reference internal" href="#equation-sprob15ab">(59.3)</a> implies that <span class="math notranslate nohighlight">\(d(L) = U (I - A L)^{-1} C\)</span>.</p>
</dd>
<dt class="label" id="f5"><span class="brackets"><a class="fn-backref" href="#id14">6</a></span></dt>
<dd><p>A moving average representation for a process <span class="math notranslate nohighlight">\(y_t\)</span> is said to be <strong>fundamental</strong> if the linear space spanned by <span class="math notranslate nohighlight">\(y^t\)</span> is equal to the linear space spanned by <span class="math notranslate nohighlight">\(w^t\)</span>.  A time-invariant innovations representation, attained via the Kalman filter, is by construction fundamental.</p>
</dd>
</dl>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                    </div>
                    
                </main> <!-- .page__content -->
                


                <footer class="qe-page__footer">

                    <p><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="https://licensebuttons.net/l/by-sa/4.0/80x15.png"></a></p>

                    <p>Creative Commons License &ndash; This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International.</p>

                </footer> <!-- .page__footer -->

            </div> <!-- .page -->

            

            
            <div class="qe-sidebar bd-sidebar inactive" id="site-navigation">

                <div class="qe-sidebar__header">


                    Contents

                </div>

                <nav class="qe-sidebar__nav" id="qe-sidebar-nav" aria-label="Main navigation">
                    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tools and Techniques
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="sir_model.html">
   1. Modeling COVID 19
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linear_algebra.html">
   2. Linear Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="qr_decomp.html">
   3. QR Decomposition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="eig_circulant.html">
   4. Circulant Matrices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="svd_intro.html">
   5. Singular Value Decomposition (SVD)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="var_dmd.html">
   6. VARs and DMDs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="newton_method.html">
   7. Using Newton’s Method to Solve Economic Models
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Elementary Statistics
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="prob_matrix.html">
   8. Elementary Probability with Matrices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lln_clt.html">
   9. LLN and CLT
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="prob_meaning.html">
   10. Two Meanings of Probability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="multi_hyper.html">
   11. Multivariate Hypergeometric Distribution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="multivariate_normal.html">
   12. Multivariate Normal Distribution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hoist_failure.html">
   13. Fault Tree Uncertainties
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="back_prop.html">
   14. Introduction to Artificial Neural Networks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rand_resp.html">
   15. Randomized Response Surveys
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="util_rand_resp.html">
   16. Expected Utilities of Random Responses
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Linear Programming
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="opt_transport.html">
   17. Optimal Transport
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="von_neumann_model.html">
   18. Von Neumann Growth Model (and a Generalization)
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction to Dynamics
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="finite_markov.html">
   19. Finite Markov Chains
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="inventory_dynamics.html">
   20. Inventory Dynamics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linear_models.html">
   21. Linear State Space Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="samuelson.html">
   22. Samuelson Multiplier-Accelerator
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="kesten_processes.html">
   23. Kesten Processes and Firm Dynamics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wealth_dynamics.html">
   24. Wealth Distribution Dynamics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="kalman.html">
   25. A First Look at the Kalman Filter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="kalman_2.html">
   26. Another Look at the Kalman Filter
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Search
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="mccall_model.html">
   27. Job Search I: The McCall Search Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mccall_model_with_separation.html">
   28. Job Search II: Search and Separation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mccall_fitted_vfi.html">
   29. Job Search III: Fitted Value Function Iteration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mccall_correlated.html">
   30. Job Search IV: Correlated Wage Offers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="career.html">
   31. Job Search V: Modeling Career Choice
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="jv.html">
   32. Job Search VI: On-the-Job Search
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mccall_q.html">
   33. Job Search VII: A McCall Worker Q-Learns
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Consumption, Savings and Capital
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="cass_koopmans_1.html">
   34. Cass-Koopmans Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cass_koopmans_2.html">
   35. Cass-Koopmans Competitive Equilibrium
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ak2.html">
   36. Transitions in an Overlapping Generations Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cake_eating_problem.html">
   37. Cake Eating I: Introduction to Optimal Saving
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cake_eating_numerical.html">
   38. Cake Eating II: Numerical Methods
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="optgrowth.html">
   39. Optimal Growth I: The Stochastic Optimal Growth Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="optgrowth_fast.html">
   40. Optimal Growth II: Accelerating the Code with Numba
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="coleman_policy_iter.html">
   41. Optimal Growth III: Time Iteration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="egm_policy_iter.html">
   42. Optimal Growth IV: The Endogenous Grid Method
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ifp.html">
   43. The Income Fluctuation Problem I: Basic Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ifp_advanced.html">
   44. The Income Fluctuation Problem II: Stochastic Returns on Assets
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Bayes Law
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="bayes_nonconj.html">
   45. Non-Conjugate Priors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ar1_bayes.html">
   46. Posterior Distributions for  AR(1) Parameters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ar1_turningpts.html">
   47. Forecasting  an AR(1) Process
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Information
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="odu.html">
   48. Job Search VII: Search with Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="likelihood_ratio_process.html">
   49. Likelihood Ratio Processes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="imp_sample.html">
   50. Computing Mean of a Likelihood Ratio Process
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wald_friedman.html">
   51. A Problem that Stumped Milton Friedman
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="exchangeable.html">
   52. Exchangeability and Bayesian Updating
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="likelihood_bayes.html">
   53. Likelihood Ratio Processes and Bayesian Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mix_model.html">
   54. Incorrect Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="navy_captain.html">
   55. Bayesian versus Frequentist Decision Rules
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  LQ Control
 </span>
</p>
<ul class="current nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="lqcontrol.html">
   56. LQ Control: Foundations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lagrangian_lqdp.html">
   57. Lagrangian for LQ Control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cross_product_trick.html">
   58. Eliminating Cross Products
  </a>
 </li>
 <li class="toctree-l1 current active active">
  <a class="current reference internal" href="#">
   59. The Permanent Income Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="perm_income_cons.html">
   60. Permanent Income II: LQ Techniques
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lq_inventories.html">
   61. Production Smoothing via Inventories
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Multiple Agent Models
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="lake_model.html">
   62. A Lake Model of Employment and Unemployment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rational_expectations.html">
   63. Rational Expectations Equilibrium
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="re_with_feedback.html">
   64. Stability in Linear Rational Expectations Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="markov_perf.html">
   65. Markov Perfect Equilibrium
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="uncertainty_traps.html">
   66. Uncertainty Traps
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="aiyagari.html">
   67. The Aiyagari Model
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Asset Pricing and Finance
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="markov_asset.html">
   68. Asset Pricing: Finite State Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ge_arrow.html">
   69. Competitive Equilibria with Arrow Securities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="harrison_kreps.html">
   70. Heterogeneous Beliefs and Bubbles
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Data and Empirics
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="pandas_panel.html">
   71. Pandas for Panel Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ols.html">
   72. Linear Regression in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mle.html">
   73. Maximum Likelihood Estimation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Auctions
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="two_auctions.html">
   74. First-Price and Second-Price Auctions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="house_auction.html">
   75. Multiple Good Allocation Mechanisms
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Other
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="troubleshooting.html">
   76. Troubleshooting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="zreferences.html">
   77. References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="status.html">
   78. Execution Statistics
  </a>
 </li>
</ul>

                </nav>

                <div class="qe-sidebar__footer">

                </div>

            </div> <!-- .sidebar -->
            
        </div> <!-- .main -->

        <div class="qe-toolbar">

            <div class="qe-toolbar__inner">

                <ul class="qe-toolbar__main">
                    <li data-tippy-content="Table of Contents" class="btn__sidebar"><i data-feather="menu"></i></li>
                    <li data-tippy-content="Home"><a href="intro.html"><i data-feather="home"></i></a></li>
                    <li class="btn__qelogo"><a href="https://quantecon.org" title=""><span class="show-for-sr">QuantEcon</span></a></li>
                </ul>

                <ul class="qe-toolbar__links">
                    <li class="btn__search">
                        <form action="search.html" method="get">
                            <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off" accesskey="k">
                            <i data-feather="search" id="search-icon"></i>
                        </form>
                    </li>
                    <li data-tippy-content="Fullscreen" class="btn__fullscreen"><i data-feather="maximize"></i></li>
                    <li data-tippy-content="Increase font size" class="btn__plus"><i data-feather="plus-circle"></i></li>
                    <li data-tippy-content="Decrease font size" class="btn__minus"><i data-feather="minus-circle"></i></li>
                    <li data-tippy-content="Change contrast" class="btn__contrast"><i data-feather="sunset"></i></li>
                    <li data-tippy-content="Download Notebook"><a href="/_notebooks/perm_income.ipynb" download><i data-feather="download-cloud"></i></a></li>
                    <li class="settings-button" id="settingsButton"><div data-tippy-content="Launch Notebook"><i data-feather="play-circle"></i></div></li>
                        <li class="download-pdf" id="downloadButton"><i data-feather="file"></i></li>
                    <!--
                    # Enable if looking for link to specific document hosted on GitHub
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/QuantEcon/lecture-python.myst/blob/main/lectures/perm_income.md" download><i data-feather="github"></i></a></li>
                    -->
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/QuantEcon/lecture-python.myst" download><i data-feather="github"></i></a></li>
                </ul>

            </div>

        </div> <!-- .toolbar -->
        <div id="downloadPDFModal" style="display: none;">
            <ul class="pdf-options" style="display: block;">
                <li class="download-pdf-book" onClick="window.print()">
                    <p>Lecture (PDF)</p>
                </li>
                <li class="download-pdf-file">
                    <a href="/_pdf/quantecon-python.pdf" download><p>Book (PDF)</p></a>
                </li>
            </ul>
        </div>
        <div id="settingsModal" style="display: none;">
            <p class="modal-title"> Notebook Launcher </p>
            <div class="modal-desc">
            <p>
                Choose public or private cloud service for "Launch" button.
            </p>
            </div>
            <p class="modal-subtitle">Select a server</p>
            <ul class="modal-servers">
            <li class="active launcher-public">
                <span class="label">Public</span>
                <select id="launcher-public-input">
                
                    <option value="https://colab.research.google.com/github/QuantEcon/lecture-python.notebooks/blob/main/perm_income.ipynb">Colab</option>
                
                </select>
                <i class="fas fa-check-circle"></i>
            </li>
            <li class="launcher-private">
                <span class="label">Private</span>
                <input type="text" id="launcher-private-input" data-repourl="https://github.com/QuantEcon/lecture-python.notebooks" data-urlpath="tree/lecture-python.notebooks/perm_income.ipynb" data-branch=main>
                <i class="fas fa-check-circle"></i>
            </li>
            </ul>
            <p class="launch"><a href="https://colab.research.google.com/github/QuantEcon/lecture-python.notebooks/blob/main/perm_income.ipynb" id="advancedLaunchButton" target="_blank">Launch Notebook</a></p>
            <script>
                // QuantEcon Notebook Launcher
                const launcherTypeElements = document.querySelectorAll('#settingsModal .modal-servers li');
                // Highlight the server type if previous selection exists
                if (typeof localStorage.launcherType !== 'undefined') {
                  for (var i = 0; i < launcherTypeElements.length; i++) {
                    launcherTypeElements[i].classList.remove('active');
                    if ( launcherTypeElements[i].classList.contains(localStorage.launcherType) ) {
                      launcherTypeElements[i].classList.add('active');
                    }
                  }
                }
                // Highlight server type on click and set local storage value
                for (var i = 0; i < launcherTypeElements.length; i++) {
                  launcherTypeElements[i].addEventListener('click', function() {
                    for (var j = 0; j < launcherTypeElements.length; j++) {
                      launcherTypeElements[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    if ( this.classList.contains('launcher-private') ) {
                      localStorage.launcherType = 'launcher-private';
                    } else if ( this.classList.contains('launcher-public') ) {
                      localStorage.launcherType = 'launcher-public';
                    }
                    setLaunchServer();
                  })
                }
                const launcherPublic = document.getElementById('launcher-public-input');
                const launcherPrivate = document.getElementById('launcher-private-input');
                const pageName = "perm_income";
                const repoURL = "https://github.com/QuantEcon/lecture-python.notebooks";
                const urlPath = "tree/lecture-python.notebooks/perm_income.ipynb";
                const branch = "main"
                const launchNotebookLink = document.getElementById('advancedLaunchButton');

                // Highlight public server option if previous selection exists
                if (typeof localStorage.launcherPublic !== 'undefined') {
                  launcherPublic.value = localStorage.launcherPublic;
                }
                // Update local storage upon public server selection
                launcherPublic.addEventListener('change', (event) => {
                  setLaunchServer();
                });
                // Populate private server input if previous entry exists
                if (typeof localStorage.launcherPrivate !== 'undefined') {
                  launcherPrivate.value = localStorage.launcherPrivate;
                }
                // Update local storage when a private server is entered
                launcherPrivate.addEventListener('input', (event) => {
                  setLaunchServer();
                });

                // Function to update the "Launch Notebook" link href
                function setLaunchServer() {
                  launchNotebookLink.removeAttribute("style")
                  if ( localStorage.launcherType == 'launcher-private' ) {
                    let repoPrefix = "/jupyter/hub/user-redirect/git-pull?repo=" + repoURL + "&branch=" + branch + "&urlpath=" + urlPath;
                    launcherPrivateValue = launcherPrivate.value
                    if (!launcherPrivateValue) {
                        launchNotebookLink.removeAttribute("href")
                        launchNotebookLink.style.background = "grey"
                        return
                    }
                    localStorage.launcherPrivate = launcherPrivateValue;
                    privateServer = localStorage.launcherPrivate.replace(/\/$/, "")
                    if (!privateServer.includes("http")) {
                        privateServer = "http://" + privateServer
                    }
                    launchNotebookLinkURL = privateServer + repoPrefix;
                  } else if ( localStorage.launcherType == 'launcher-public' ) {
                    launcherPublicValue = launcherPublic.options[launcherPublic.selectedIndex].value;
                    localStorage.launcherPublic = launcherPublicValue;
                    launchNotebookLinkURL = localStorage.launcherPublic;
                  }
                  if (launchNotebookLinkURL) launchNotebookLink.href = launchNotebookLinkURL;
                }
                // Check if user has previously selected a server
                if ( (typeof localStorage.launcherPrivate !== 'undefined') || (typeof localStorage.launcherPublic !== 'undefined') ) {
                  setLaunchServer();
                }
                </script>

        </div>

    </div> <!-- .wrapper-->
  </body>
</html>